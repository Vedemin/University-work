Dear Student,

I'm happy to announce that you've managed to get **10** out of 18 points for this assignment.\
There still exist some issues that should be addressed before the deadline: 2022-12-07 11:15:00 CET (+0100). For further details, please refer to the following list:

<details><summary>Fibonacci should return base cases &gt;&gt; tokenizing error, invalid input</summary><br>During handling of the above exception, another exception occurred:<br>tokenizing error, invalid input</details>
<details><summary>Fibonacci should return recursive cases &gt;&gt; tokenizing error, invalid input</summary><br>During handling of the above exception, another exception occurred:<br>tokenizing error, invalid input</details>
<details><summary>Fix should be evaluated correctly &gt;&gt; evaluator got wrong end result, got: fix (\ie:Nat -&gt; Bool.(\x:Nat.if iszero x then true else if iszero pred x then false else (ie pred pred x))), expected (\x:Nat.if iszero x then true else if iszero pred x then false else (fix (\ie:Nat -&gt; Bool.(\x&#x27;:Nat.if iszero x&#x27; then true else if iszero pred x&#x27; then false else (ie pred pred x&#x27;))) pred pred x)),</summary>* input = fix (\ie:Nat -> Bool.(\x:Nat.if iszero x then true else if iszero pred x then false else (ie pred pred x)))<br>* detailed comparison: TypedLambdaProgram(term=TmFix(info=Info(lineno=1, column=0), arg=TmAbs(info=Info(lineno=1, column=4), arg='ie', arg_type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), body=TmAbs(info=Info(lineno=1, column=21), arg='x', arg_type=<BaseType.Nat: 'Nat'>, body=TmIf(info=Info(lineno=1, column=29), condition=TmIsZero(info=Info(lineno=1, column=32), number=TmVar(info=Info(lineno=1, column=39), index=0, context_length=2)), if_true=TmTrue(info=Info(lineno=1, column=46)), if_else=TmIf(info=Info(lineno=1, column=56), condition=TmIsZero(info=Info(lineno=1, column=59), number=TmPred(info=Info(lineno=1, column=67), number=TmVar(info=Info(lineno=1, column=72), index=0, context_length=2))), if_true=TmFalse(info=Info(lineno=1, column=80)), if_else=TmApp(info=Info(lineno=1, column=91), function=TmVar(info=Info(lineno=1, column=91), index=1, context_length=2), arg=TmPred(info=Info(lineno=1, column=95), number=TmPred(info=Info(lineno=1, column=101), number=TmVar(info=Info(lineno=1, column=106), index=0, context_length=2))))))))), name_context=[]) vs TypedLambdaProgram(term=TmAbs(info=Info(lineno=1, column=21), arg='x', arg_type=<BaseType.Nat: 'Nat'>, body=TmIf(info=Info(lineno=1, column=29), condition=TmIsZero(info=Info(lineno=1, column=32), number=TmVar(info=Info(lineno=1, column=39), index=0, context_length=1)), if_true=TmTrue(info=Info(lineno=1, column=46)), if_else=TmIf(info=Info(lineno=1, column=56), condition=TmIsZero(info=Info(lineno=1, column=59), number=TmPred(info=Info(lineno=1, column=67), number=TmVar(info=Info(lineno=1, column=72), index=0, context_length=1))), if_true=TmFalse(info=Info(lineno=1, column=80)), if_else=TmApp(info=Info(lineno=1, column=91), function=TmFix(info=Info(lineno=-1, column=-1), arg=TmAbs(info=Info(lineno=-1, column=-1), arg='ie', arg_type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), body=TmAbs(info=Info(lineno=1, column=21), arg='x', arg_type=<BaseType.Nat: 'Nat'>, body=TmIf(info=Info(lineno=1, column=29), condition=TmIsZero(info=Info(lineno=1, column=32), number=TmVar(info=Info(lineno=1, column=39), index=0, context_length=3)), if_true=TmTrue(info=Info(lineno=1, column=46)), if_else=TmIf(info=Info(lineno=1, column=56), condition=TmIsZero(info=Info(lineno=1, column=59), number=TmPred(info=Info(lineno=1, column=67), number=TmVar(info=Info(lineno=1, column=72), index=0, context_length=3))), if_true=TmFalse(info=Info(lineno=1, column=80)), if_else=TmApp(info=Info(lineno=1, column=91), function=TmVar(info=Info(lineno=1, column=91), index=1, context_length=3), arg=TmPred(info=Info(lineno=1, column=95), number=TmPred(info=Info(lineno=1, column=101), number=TmVar(info=Info(lineno=1, column=106), index=0, context_length=3))))))))), arg=TmPred(info=Info(lineno=1, column=95), number=TmPred(info=Info(lineno=1, column=101), number=TmVar(info=Info(lineno=1, column=106), index=0, context_length=1))))))), name_context=[])</details>
<details><summary>Typecheck should detect invalid recursive type &gt;&gt; the error is of incorrect type, got LambdaTypeErrorType.InvalidFunType, expected LambdaTypeErrorType.InvalidRecFunType (program: &#x27;fix \ie:Nat -&gt; Bool. \x:Bool. if x then 0 else 0&#x27;)</summary></details>
<details><summary>Expand term works at any depth &gt;&gt; test_utils.py:151: in safe_method</summary>&nbsp;&nbsp;&nbsp;&nbsp;return method(*args, **kwargs)<br>E   RecursionError: maximum recursion depth exceeded in comparison</details>
<details><summary>Expand term works for nested cases &gt;&gt; macro system doesn&#x27;t handle nested expansions, got let x = fix (\x:Nat -&gt; Bool.(\y:Nat.(var&lt;1&gt; var&lt;0&gt;))) in letrec x : Nat -&gt; Bool = (\y:Nat.(var&lt;1&gt; var&lt;0&gt;)) in 0, expected let x = fix (\x:Nat -&gt; Bool.(\y:Nat.(var&lt;1&gt; var&lt;0&gt;))) in let x = fix (\x:Nat -&gt; Bool.(\y:Nat.(var&lt;1&gt; var&lt;0&gt;))) in 0:</summary>* input: letrec x : Nat -> Bool = (\y:Nat.(var<1> var<0>)) in letrec x : Nat -> Bool = (\y:Nat.(var<1> var<0>)) in 0<br>* detailed comparison: TmLet(info=Info(lineno=-1, column=-1), var='x', rvalue=TmFix(info=Info(lineno=-1, column=-1), arg=TmAbs(info=Info(lineno=-1, column=-1), arg='x', arg_type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), body=TmAbs(info=Info(lineno=1, column=24), arg='y', arg_type=<BaseType.Nat: 'Nat'>, body=TmApp(info=Info(lineno=1, column=33), function=TmVar(info=Info(lineno=1, column=33), index=1, context_length=2), arg=TmVar(info=Info(lineno=1, column=35), index=0, context_length=2))))), body=TmLet(info=Info(lineno=-1, column=-1), var='x', rvalue=TmFix(info=Info(lineno=-1, column=-1), arg=TmAbs(info=Info(lineno=-1, column=-1), arg='x', arg_type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), body=TmAbs(info=Info(lineno=1, column=65), arg='y', arg_type=<BaseType.Nat: 'Nat'>, body=TmApp(info=Info(lineno=1, column=74), function=TmVar(info=Info(lineno=1, column=74), index=1, context_length=3), arg=TmVar(info=Info(lineno=1, column=76), index=0, context_length=3))))), body=TmZero(info=Info(lineno=1, column=81)))) vs TmLet(info=Info(lineno=-1, column=-1), var='x', rvalue=TmFix(info=Info(lineno=-1, column=-1), arg=TmAbs(info=Info(lineno=-1, column=-1), arg='x', arg_type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), body=TmAbs(info=Info(lineno=1, column=24), arg='y', arg_type=<BaseType.Nat: 'Nat'>, body=TmApp(info=Info(lineno=1, column=33), function=TmVar(info=Info(lineno=1, column=33), index=1, context_length=2), arg=TmVar(info=Info(lineno=1, column=35), index=0, context_length=2))))), body=TmLetRec(info=Info(lineno=1, column=41), var='x', type=ArrowType(left=<BaseType.Nat: 'Nat'>, right=<BaseType.Bool: 'Bool'>), function=TmAbs(info=Info(lineno=1, column=65), arg='y', arg_type=<BaseType.Nat: 'Nat'>, body=TmApp(info=Info(lineno=1, column=74), function=TmVar(info=Info(lineno=1, column=74), index=1, context_length=3), arg=TmVar(info=Info(lineno=1, column=76), index=0, context_length=3))), body=TmZero(info=Info(lineno=1, column=81))))</details>

-----------
I remain your faithful servant\
_Bobot_